FROM python:3.11-slim AS builder
WORKDIR /src
COPY requirements.txt .
RUN python -m pip install --upgrade pip && pip wheel --no-deps --wheel-dir /wheels -r requirements.txt
FROM python:3.11-slim
COPY --from=builder /wheels /wheels
RUN pip install --no-index --find-links /wheels -r requirements.txt
WORKDIR /feast
COPY feast /feast
CMD ["bash", "-c", "echo 'Start Feast components via helm or CLI' && sleep infinity"] 
